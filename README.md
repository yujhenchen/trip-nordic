# trip-nordic

## Resources
- [Concurrent HTTP Requests in Golang: Best Practices and Techniques](https://medium.com/insiderengineering/concurrent-http-requests-in-golang-best-practices-and-techniques-f667e5a19dea)
- [Go Concurrency Explained: Go Routines & Channels](https://www.youtube.com/watch?v=B9uR2gLM80E)
- [Concurrency in Go](https://www.youtube.com/watch?v=LvgVSSpwND8)
- [Structs](https://www.codecademy.com/resources/docs/go/structs)
- [Understanding the Power of Go Interfaces: A Comprehensive Guide](https://medium.com/@jamal.kaksouri/understanding-the-power-of-go-interfaces-a-comprehensive-guide-835954101b7e)
- [Type assertion vs type switches in Go](https://rednafi.com/go/type_assertion_vs_type_switches/)
- [gob](https://pkg.go.dev/encoding/gob#NewEncoder)
- [Golang Defer: From Basic To Traps](https://victoriametrics.com/blog/defer-in-go/)

MongoDB
- [MongoDB Go Driver](https://www.mongodb.com/docs/drivers/go/current/)
- [How To Use Go with MongoDB Using the MongoDB Go Driver](https://www.digitalocean.com/community/tutorials/how-to-use-go-with-mongodb-using-the-mongodb-go-driver)
- [How to Use MongoDB with Go](https://earthly.dev/blog/use-mongo-with-go/)
- [Go Backend Clean Architecture](https://github.com/amitshekhariitbhu/go-backend-clean-architecture)

Not yet
- [Testing and Benchmarking in Go](https://medium.com/hyperskill/testing-and-benchmarking-in-go-e33a54b413e)
- [Benchmarking in Golang: Improving function performance](https://blog.logrocket.com/benchmarking-golang-improve-function-performance/)

Frontend development
- [Learn to become a modern Frontend Developer in 2022](https://medium.com/@kamranahmedse/modern-frontend-developer-in-2018-4c2072fa2b9c)
- [frontend-checklist](https://developerruhul.github.io/frontend-checklist/)
- [Mastering Modal Dialogs in React Like a Pro](https://hackernoon.com/mastering-modal-dialogs-in-react-like-a-pro)
- [How to Create Infinite Scrolling in React Using the Intersection Observer API](https://www.freecodecamp.org/news/infinite-scrolling-in-react/)

Django
- [Creating a Custom User Model in Django](https://testdriven.io/blog/django-custom-user-model/)

Custom model
- [Creating a Custom User Model in Django](https://testdriven.io/blog/django-custom-user-model/)

Auth token
- [JWT Authentication in Django](https://code.tutsplus.com/how-to-authenticate-with-jwt-in-django--cms-30460t)
- [Simple JWT](https://django-rest-framework-simplejwt.readthedocs.io/en/latest/index.html)
- [How to use JWT Authentication with Django](https://appliku.com/post/how-use-jwt-authentication-django/#django-jwt-authentication-logout)
- [JWT Logout â€” Django Rest Framework](https://medium.com/django-rest/logout-django-rest-framework-eb1b53ac6d35)
- [rest_framework_simplejwt/exceptions.py](https://github.com/jazzband/djangorestframework-simplejwt/blob/master/rest_framework_simplejwt/exceptions.py)

CORS with HTTPOnly Cookie
- [JWT token as HttpOnly cookie in Django](https://www.procoding.org/jwt-token-as-httponly-cookie-in-django)
- [How to Enable CORS with HTTPOnly Cookie to Secure Token?](https://geekflare.com/cybersecurity/enable-cors-httponly-cookie-secure-token/) 
- [Auth with JWT in React and Django #1 - JWT, Web security & Auth server set-up](https://blog.zjzhang.org/post/Auth-with-JWT-in-React-and-Django-part1)
- [django-cors-headers 4.7.0](https://pypi.org/project/django-cors-headers/)
- [Using HTTP cookies](https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/Cookies)
- [Cross-Origin Resource Sharing (CORS)](https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CORS)
- [Request: credentials property](https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials)
- [Secure JWT Authentication - Where to store the JWT Token. How to store JWT token in httpOnly cookies](https://www.youtube.com/watch?app=desktop&v=894seNhONF8)


## Tech stack and why choose them

#### Frontend
<!-- Core -->
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white)](https://vitejs.dev/)
[![Vike](https://img.shields.io/badge/Vike-000000?style=for-the-badge)](https://vike.dev/)
[![Express.js](https://img.shields.io/badge/Express-000000?style=for-the-badge&logo=express&logoColor=white)](https://expressjs.com/)

<!-- UI & Styling -->
[![Tailwind CSS](https://img.shields.io/badge/TailwindCSS-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white)](https://tailwindcss.com/)
[![Radix UI](https://img.shields.io/badge/Radix_UI-181717?style=for-the-badge&logo=radix-ui&logoColor=white)](https://www.radix-ui.com/)
[![Lucide](https://img.shields.io/badge/Lucide-000000?style=for-the-badge&logo=lucide&logoColor=white)](https://lucide.dev/)
[![React Select](https://img.shields.io/badge/React_Select-FF69B4?style=for-the-badge&logo=react&logoColor=white)](https://react-select.com/home)

<!-- State & Data -->
[![Zustand](https://img.shields.io/badge/Zustand-000000?style=for-the-badge&logo=zustand&logoColor=white)](https://zustand-demo.pmnd.rs/)
[![TanStack Query](https://img.shields.io/badge/TanStack_Query-FF4154?style=for-the-badge&logo=react-query&logoColor=white)](https://tanstack.com/query)
[![GraphQL](https://img.shields.io/badge/GraphQL-E10098?style=for-the-badge&logo=graphql&logoColor=white)](https://graphql.org/)

<!-- Validation -->
[![Zod](https://img.shields.io/badge/Zod-3EAF7C?style=for-the-badge)](https://zod.dev/)

<!-- Media & Deployment -->
[![Cloudinary](https://img.shields.io/badge/Cloudinary-3448C5?style=for-the-badge&logo=cloudinary&logoColor=white)](https://cloudinary.com/)




#### Backend
[![Go](https://img.shields.io/badge/Go-00ADD8?style=for-the-badge&logo=go&logoColor=white)](https://go.dev/)
[![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![Django REST framework](https://img.shields.io/badge/Django_REST_Framework-092D2D?style=for-the-badge&logo=django&logoColor=white)](https://www.django-rest-framework.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Strawberry](https://img.shields.io/badge/Strawberry-FF5A5F?style=for-the-badge&logo=strawberry&logoColor=white)](https://strawberry.rocks/)
[![Poetry](https://img.shields.io/badge/Poetry-000000?style=for-the-badge&logo=python&logoColor=white)](https://python-poetry.org/)
[![Simple JWT](https://img.shields.io/badge/Simple_JWT-1F5D4E?style=for-the-badge&logo=python&logoColor=white)](https://django-rest-framework-simplejwt.readthedocs.io/en/latest/index.html#)
[![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white)](https://www.mongodb.com/)
[![Railway](https://img.shields.io/badge/Railway-0B0D0E?style=for-the-badge&logo=railway&logoColor=white)](https://railway.app/)







## Features

### General
- [ ] header
    - [ ] logo
    - [x] navbar 
    	- [x] explore page, plan page, about page, sign in/ sign out button
		- [x] sign in/ out status
		- [x] toggle theme
- [x] footer
	- [x] copyright
	- [x] navbar

### Home
- [ ] hero text
- [ ] plan link, explore link

### About

### Explore
- [x] filter panel
    - [x] select/ unselect filters
    - [x] reset a row of filters
    - [x] reset all filters
- [ ] activity card grid
    - [x] card
        - [x] image, title, description
        - [x] click to open card detail dialog
    - [x] display cards based on filters 
	- [ ] stop fetch data when reach to total count
- [ ] card detail dialog
	- [x] style should be correct
	- [ ] map of the place
	- [x] press Keep to save the activity in personal Keep


### Plan
- [ ] left side bar
	- [ ] search activities by keyword
	- [ ] drag/ drop activity from Keep into day card

- [ ] right scroll panel
	- [x] trip name
		- [x] edit: double click
			- [x] save
				- [x] keydown Enter
				- [x] click V
			- [x] cancel: click V
 
	- [x] trip date range
		- [x] select date update date

	- [x] day card
		- [x] date picker
			- [x] select date update date
		- [x] click + to create
			- [ ] new date is last day +1
		- [x] remove action
			- [x] confirm remove dialog
		
		- [x] activity card
			- [x] click + to create
			- [x] edit action
				- [x] click to open edit activity dialog
				- [x] save
				- [x] cancel
			- [x] remove action
				- [x] confirm remove dialog
			- [x] view action
				- [x] click to open view activity dialog
				- [x] click to switch to edit mode

- [ ] copy link to clipboard


### Dashboard


### Auth
- [ ] signup
	- [ ] BE
		- [ ] with confirmation email
	- [ ] FE
		- [ ] cancel request
		- [x] API loading
		- [x] API success
		- [x] API error
		- [x] redirect to login page after successfully sign up
		- [ ] nav to sign up page
			- [ ] redirect to last page if already login
			- [x] stay if token expired
		- [ ] form error messages

- [ ] login using JWT
	- [x] BE
	- [ ] FE
		- [x] store user state after login successfully
		- [x] cancel request
		- [x] API loading
		- [x] API success
		- [x] API error
		- [ ] redirect to last page after successfully login
		- [ ] nav to login page
			- [ ] redirect to last page if already login
			- [x] stay if token expired
		- [ ] form error messages

- [ ] refresh token
	- [x] BE
		- [x] rotate refresh token 
	- [ ] FE
		- [ ] silent authentication
- [ ] logout
	- [x] BE
	- [ ] FE


### Security
- [ ] prevent exposing backend URLs (use reverse proxy)
- [ ] form data


## Bugs
- [ ] after login success, need to redirect to last page before landing on login page
- [ ] after login success, need to redirect to login page


## Improvements
- [ ] home page
	- [ ] remove buttons add big image, animation or video (image or simple animation, think of processing power)
- [ ] dashboard page
	- [x] click on trip card -> nav to the trip plan
	- [ ] 10 built-in pictures to choose from, to add to the trip card (beach, museum, christmas, skiing, etc)
		- [ ] backend picture storage
		- [ ] frontend use data
- [x] No need to press Save on control to actual save it, 
	if it is a new trip, when click on any Sve for the first time, it auto create a new Trip ID and data into trip list
- [ ] allow to export the trip plan to PDF
- [ ] use Redis to improve server side data caching, eg, for filters in explore page

- [ ] explore page
	- [x] fix cities may be incorrect (400 more cities)
	- [ ] change UI of cities to search box + dropdown list (order by Alphabet, multiple selection); on the right side shows the selected options, and can remove them

- [ ] Images: process the content of the data and provide general images if cannot find the real one (eg, 10 restaurant images to switch in between)

- [ ] Styling cohesive
	- [ ] make all blue colors the same but different level
	- [ ] header navigation background color in light mode nicer

- [ ] Performance
	- [ ] debouncing
	- [ ] throttle
	- [ ] remove not need re-render

## Examples

### query
```
{
  fiActivities (
    keyword: "14km"
    cities: ["Ii", "Rovaniemi"], 
    regions: ["Lakeland", "Lapland"]
    categories: ["families", "attractions"]
    seasons: ["winter"]
    limit: 5, 
    offset: 0
    orderBy: "name"
  ) {
    items {
      id
      name
      seasons
      categories
      city
      region
    }
    totalItemsCount
  }
}
```

filters
```
{
  fiActivityFilters{
    name
    items
  }
}
```



### Run Fast API
```
fastapi dev main.py
```
